# 基于自然语言的数据库查询系统 - 前端开发需求文档

## 项目概述

本项目旨在开发一个基于自然语言的数据库查询系统前端界面，用户可以通过自然语言输入查询需求，系统实时展示查询处理过程，并以流式方式显示后端返回的SQL生成和执行结果。

### 技术栈要求
- **框架**: Next.js (App Router)+ react + shadcn

## 界面设计要求

### 整体布局 (类似ChatGPT风格)
```
┌─────────────────────────────────────────────────────────┐
│                    顶部导航栏                                │
│    [Logo] [系统名称]                    [用户信息]        │
├─────────────────────────────────────────────────────────┤
│  侧边栏          │              主聊天区域                │
│                 │                                     │
│ [历史会话列表]   │  ┌─────────────────────────────────┐  │
│                 │  │         用户消息 1              │  │
│  📝 会话1        │  └─────────────────────────────────┘  │
│  📝 会话2        │                                     │
│  📝 会话3        │  ┌─────────────────────────────────┐  │
│                 │  │         AI响应 1                │  │
│ [新建会话]       │  │     [处理状态]                  │  │
│                 │  │     [SQL生成进度]               │  │
│                 │  │     [查询结果表格]               │  │
│                 │  └─────────────────────────────────┘  │
│                 │                                     │
│                 │  [输入框 + 发送按钮]                    │
└─────────────────────────────────────────────────────────┘
```


### 4. 样式要求

- 响应式设计，支持移动端和桌面端
- 暗色模式支持 (可选)
- 动画效果:
  - 消息发送时的淡入效果
  - 处理中的加载动画
  - 流式文本的打字机效果

### 5. 性能优化

- 消息列表虚拟滚动 (大量历史消息时)
- 消息防抖处理
- 图片懒加载 (如果结果中包含图片)
- WebSocket连接复用和优化

### 6. 错误处理

- WebSocket连接失败提示
- 网络异常处理
- 消息发送失败重试
- 用户友好的错误提示
